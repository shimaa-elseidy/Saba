import{a as V}from"./chunk-GOIJPATF.js";import{a as F}from"./chunk-YB2VETAR.js";import{a as U}from"./chunk-IP3FY2TA.js";import{A as j,c as T,f as Y,k as L}from"./chunk-5ZW25HYA.js";import"./chunk-CU2TEK6Q.js";import{h as I,l as z}from"./chunk-JKYV32XC.js";import"./chunk-SLPUACWX.js";import"./chunk-MMGRQEJU.js";import"./chunk-Q5MV2RZV.js";import{l as B,w as E}from"./chunk-EJ3EEOXZ.js";import{Cb as c,Db as h,Kb as e,Lb as n,Mb as g,Qb as M,Vb as p,Wb as P,Za as O,_a as C,eb as a,ec as r,fc as d,jc as v,kb as f,kc as y,lc as k,na as b,oa as _,oc as S,qb as w,vb as u}from"./chunk-FHROAHAP.js";import"./chunk-WWX6BADO.js";var A=s=>["/dashboard/add-new-blog",s];function D(s,m){if(s&1){let t=M();e(0,"div",16),g(1,"img",17),e(2,"div",18)(3,"div",19),r(4),n(),e(5,"p",20),r(6),n(),e(7,"div",21)(8,"div",22)(9,"div",23),g(10,"i",24),e(11,"span"),r(12),n()(),e(13,"div",23),g(14,"i",25),e(15,"span",26),r(16),n()()(),e(17,"div",27)(18,"button",28),r(19,"Edit"),n(),e(20,"button",29),p("click",function(){let i=b(t).$implicit,l=P();return _(l.deleteBlog(i.id))}),r(21,"Delete"),n()()()()()}if(s&2){let t=m.$implicit,o=m.index;h("animation-delay",o*.1+"s"),a(),c("src",t.mainImage,C)("alt",t.title),a(3),d(t.title),a(2),d(t.description),a(6),d(t.viewCount),a(4),d(t.category),a(2),c("routerLink",S(9,A,t.id))}}function N(s,m){if(s&1){let t=M();e(0,"div",30),g(1,"img",31),e(2,"div",32)(3,"p",33),r(4),n(),g(5,"p",34),e(6,"p",35),r(7),n()(),e(8,"button",36),p("click",function(){let i=b(t).$implicit,l=P();return _(l.deleteComment(i.id))}),r(9,"\u2716"),n()()}if(s&2){let t=m.$implicit,o=m.index;h("animation-delay",o*.1+"s"),a(),c("src",t.user.profilePicture,C),a(3),d(t.user.name),a(),c("innerHTML",t.content,O),a(2),d(t.createdAt)}}var X=(()=>{class s{constructor(t,o,i){this.blogService=t,this.commentService=o,this.toastr=i,this.searchTerm="",this.selectedCategory="all",this.blogs=[],this.commentsBlogs=[]}ngOnInit(){this.blogService.getAllBlogs().subscribe({next:t=>{this.blogs=t},error:t=>{console.error("Error loading blogs",t),this.toastr.error("Error loading blogs")}}),this.commentService.getAllCommentsBlogs().subscribe({next:t=>{this.commentsBlogs=t},error:t=>{console.error("Error loading comments",t),this.toastr.error("Error loading comments")}})}deleteBlog(t){this.blogService.deleteBlog(t).subscribe({next:o=>{this.blogs=this.blogs.filter(i=>i.id!==t),this.toastr.success("Blog deleted successfully")},error:o=>{console.error("Error deleting blog",o),this.toastr.error("Error deleting blog")}})}deleteComment(t){this.commentService.deleteCommentById(t).subscribe({next:o=>{this.commentsBlogs=this.commentsBlogs.filter(i=>i.id!==t),this.toastr.success(o.message)},error:o=>{console.error("Error deleting comment",o),this.toastr.error("Error deleting comment")}})}get filteredBlogs(){return this.blogs.filter(t=>{let o=this.searchTerm.toLowerCase(),i=t.title.toLowerCase().includes(o)||t.category.toLowerCase().includes(o),l=this.selectedCategory==="all"||t.category===this.selectedCategory;return i&&l})}filterBlogs(t){this.selectedCategory=t}static{this.\u0275fac=function(o){return new(o||s)(f(V),f(F),f(U))}}static{this.\u0275cmp=w({type:s,selectors:[["app-blogs"]],decls:35,vars:3,consts:[[1,"overview"],[1,"header-title"],[1,"mx-auto"],[1,"content-wrapper"],[1,"stats-cards"],[1,"stat-card"],["routerLink","/dashboard/add-new-blog",1,"create-btn"],[1,"filters"],["type","text","placeholder","Search for blog...",3,"ngModelChange","ngModel"],[1,"btn",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"blog-grid"],["class","blog-card animate-card",3,"animation-delay",4,"ngFor","ngForOf"],[1,"recent-comments"],[1,"comment-list"],["class","comment animate-comment",3,"animation-delay",4,"ngFor","ngForOf"],[1,"blog-card","animate-card"],[3,"src","alt"],[1,"blog-content"],[1,"blog-title"],[1,"blog-description"],[1,"blog-footer"],[1,"info"],[1,"info-item"],[1,"bi","bi-eye"],[1,"bi","bi-tag-fill"],[1,"category"],[1,"buttons"],[1,"edit",3,"routerLink"],[1,"delete",3,"click"],[1,"comment","animate-comment"],["alt","User Avatar",1,"avatar",3,"src"],[1,"comment-content"],[1,"user-name"],[1,"comment-text",3,"innerHTML"],[1,"timestamp"],[1,"delete-btn",3,"click"]],template:function(o,i){o&1&&(e(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Blogs"),n()(),e(4,"div",3)(5,"div",4)(6,"div",5)(7,"h4"),r(8,"Total Blogs"),n(),e(9,"p")(10,"strong"),r(11,"1250"),n()()(),e(12,"div",5)(13,"h4"),r(14,"Total Comments"),n(),e(15,"p")(16,"strong"),r(17,"1,950"),n()()()(),e(18,"button",6),r(19,"+ Create New Blog"),n(),e(20,"div",7)(21,"input",8),k("ngModelChange",function(x){return y(i.searchTerm,x)||(i.searchTerm=x),x}),n(),e(22,"button",9),p("click",function(){return i.filterBlogs("all")}),r(23,"All Categories"),n(),e(24,"button",10),p("click",function(){return i.filterBlogs("technology")}),r(25,"Technology"),n(),e(26,"button",10),p("click",function(){return i.filterBlogs("lifestyle")}),r(27,"Lifestyle"),n()(),e(28,"div",11),u(29,D,22,11,"div",12),n(),e(30,"div",13)(31,"h3"),r(32,"Recent Comments"),n(),e(33,"div",14),u(34,N,10,6,"div",15),n()()()()),o&2&&(a(21),v("ngModel",i.searchTerm),a(8),c("ngForOf",i.filteredBlogs),a(5),c("ngForOf",i.commentsBlogs))},dependencies:[B,j,T,Y,L,z,I,E],styles:['.overview[_ngcontent-%COMP%]{width:90%;max-width:1200px;background-color:#f8faff;margin:40px auto;border-radius:15px;padding:0;box-shadow:0 10px 30px #00000014;border:1px solid rgba(37,99,235,.1);animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out;position:relative;overflow:hidden}.overview[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:80px;background:linear-gradient(135deg,#2563eb,#1a4fd4);z-index:0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.header-title[_ngcontent-%COMP%]{height:80px;background:linear-gradient(135deg,#2563eb,#1a4fd4);display:flex;align-items:center;padding:0 30px;margin-bottom:20px;position:relative;z-index:1;border-radius:15px 15px 0 0;box-shadow:0 4px 15px #2563eb33}.header-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;font-weight:700;margin:0;animation:_ngcontent-%COMP%_slideInLeft .6s ease-out;text-shadow:0 2px 4px rgba(0,0,0,.2)}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}.content-wrapper[_ngcontent-%COMP%]{padding:0 30px 30px}.stats-cards[_ngcontent-%COMP%]{display:flex;gap:20px;padding:20px 0;justify-content:center;flex-wrap:wrap}.stat-card[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:12px;box-shadow:0 6px 15px #00000014;width:255px;transition:all .5s cubic-bezier(.34,1.56,.64,1);border-top:4px solid #2563EB;animation:_ngcontent-%COMP%_cardPop .8s cubic-bezier(.34,1.56,.64,1) forwards;opacity:0;transform:scale(.8);position:relative;overflow:hidden}.stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(135deg,#fff0,#fff6,#fff0);z-index:1;transition:all .6s ease;transform:skew(-25deg)}.stat-card[_ngcontent-%COMP%]:hover:before{left:100%;transition:all .6s ease}@keyframes _ngcontent-%COMP%_cardPop{0%{opacity:0;transform:scale(.8) translateY(30px)}60%{opacity:1;transform:scale(1.08) translateY(-10px)}80%{transform:scale(.95) translateY(5px)}to{opacity:1;transform:scale(1) translateY(0)}}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 20px #0000001f}.stat-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:18px;font-size:20px;font-weight:700;position:relative;display:inline-block;transition:all .3s ease;color:#2563eb}.stat-card[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]{transform:scale(1.05)}.stat-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:0;width:40px;height:3px;background:currentColor;border-radius:2px;transition:width .3s ease}.stat-card[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]:after{width:100%}.stat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 0;font-size:14px;display:flex;justify-content:center;align-items:center;color:#555;transition:all .3s ease}.stat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#333;transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{transform:scale(1.1)}.create-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#1a4fd4);color:#fff;border:none;padding:12px 24px;border-radius:30px;font-size:16px;font-weight:600;cursor:pointer;margin:0 auto;display:block;transition:all .3s ease;box-shadow:0 4px 12px #2563eb4d;animation:_ngcontent-%COMP%_pulse 2s infinite}.create-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 15px #2563eb66}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #2563eb66}70%{box-shadow:0 0 0 10px #2563eb00}to{box-shadow:0 0 #2563eb00}}.filters[_ngcontent-%COMP%]{display:flex;margin:30px auto;gap:15px;flex-wrap:wrap;justify-content:center;align-items:center;background-color:#fff;padding:20px;border-radius:12px;box-shadow:0 5px 15px #0000000d;animation:_ngcontent-%COMP%_fadeIn .8s ease-out .5s both;position:relative}.filters[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:10px 16px;border:1px solid #e9ecef;border-radius:8px;min-width:220px;transition:all .3s ease}.filters[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#2563eb;box-shadow:0 0 0 3px #2563eb26;outline:none}.filters[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 16px;background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;cursor:pointer;font-weight:500;transition:all .3s ease}.filters[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:translateY(-2px)}.filters[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;border-radius:8px;padding:10px 16px;border:none;box-shadow:0 3px 8px #2563eb33}.filters[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#1a4fd4;box-shadow:0 5px 12px #2563eb4d}.blog-grid[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:28px;margin-top:18px}.blog-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;box-shadow:0 4px 16px #00000012;border:1px solid #e3e8ef;transition:all .3s ease;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards;opacity:0;transform:translateY(20px)}@keyframes _ngcontent-%COMP%_fadeInUp{to{opacity:1;transform:translateY(0)}}.animate-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInCard .6s ease-out forwards;opacity:0;transform:translateY(30px)}@keyframes _ngcontent-%COMP%_fadeInCard{to{opacity:1;transform:translateY(0)}}.blog-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 15px 30px #0000001a}.blog-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:14px 14px 0 0;height:170px;object-fit:cover;width:100%;transition:transform .5s ease}.blog-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.blog-content[_ngcontent-%COMP%]{padding:16px;flex-grow:1;display:flex;flex-direction:column}.blog-title[_ngcontent-%COMP%]{color:#2563eb;font-size:18px;font-weight:700;margin-bottom:8px}.blog-description[_ngcontent-%COMP%]{color:#495057;flex-grow:1;margin-bottom:15px}.blog-footer[_ngcontent-%COMP%]{margin-top:auto;display:flex;justify-content:space-between;align-items:center}.info[_ngcontent-%COMP%]{display:flex;gap:15px}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2563eb}.category[_ngcontent-%COMP%]{color:#2563eb;font-weight:600}.buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.edit[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border-radius:8px;padding:6px 16px;border:none;font-size:14px;font-weight:600;transition:all .3s ease}.edit[_ngcontent-%COMP%]:hover{background:#1a4fd4;transform:translateY(-2px)}.delete[_ngcontent-%COMP%]{background:#f8f9fa;color:#dc3545;border:1px solid #dc3545;border-radius:8px;padding:6px 16px;font-size:14px;font-weight:600;transition:all .3s ease}.delete[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff;transform:translateY(-2px)}.recent-comments[_ngcontent-%COMP%]{width:100%;max-width:100%;max-height:320px;overflow-y:auto;margin-top:25px;background:#fff;border-radius:12px;box-shadow:0 5px 20px #00000014;padding:20px;animation:_ngcontent-%COMP%_slideUp .6s ease-out .7s both}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.recent-comments[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2563eb;font-size:18px;margin-bottom:15px;position:relative;display:inline-block}.recent-comments[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:0;width:40px;height:3px;background:#2563eb;border-radius:2px}.comment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.comment[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;border-bottom:1px solid #e0e0e0;padding-bottom:10px;position:relative;animation:_ngcontent-%COMP%_fadeInComment .5s ease-out forwards;opacity:0}@keyframes _ngcontent-%COMP%_fadeInComment{to{opacity:1}}.animate-comment[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInComment .5s ease-out forwards;opacity:0}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid #2563EB}.comment-content[_ngcontent-%COMP%]{flex-grow:1}.user-name[_ngcontent-%COMP%]{font-weight:700;margin-bottom:2px;color:#2563eb}.comment-text[_ngcontent-%COMP%]{color:#333;font-size:14px}.timestamp[_ngcontent-%COMP%]{color:gray;font-size:12px}.delete-btn[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;border-radius:50%;width:25px;height:25px;font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.delete-btn[_ngcontent-%COMP%]:hover{background:#dc3545;transform:rotate(90deg)}.blog-grid[_ngcontent-%COMP%]::-webkit-scrollbar, .recent-comments[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.blog-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .recent-comments[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#2563eb;border-radius:4px}.blog-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track, .recent-comments[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}@media (max-width: 992px){.overview[_ngcontent-%COMP%]{width:95%;padding:0}.blog-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}.stat-card[_ngcontent-%COMP%]{width:220px}}@media (max-width: 768px){.overview[_ngcontent-%COMP%]{width:90%;margin:20px auto}.stats-cards[_ngcontent-%COMP%]{gap:15px}.stat-card[_ngcontent-%COMP%]{width:calc(50% - 15px);min-width:200px}.filters[_ngcontent-%COMP%]{padding:15px;gap:10px}.blog-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}}@media (max-width: 600px){.overview[_ngcontent-%COMP%]{width:95%;border-radius:10px}.header-title[_ngcontent-%COMP%]{height:60px;padding:0 15px}.content-wrapper[_ngcontent-%COMP%]{padding:0 15px 20px}.stat-card[_ngcontent-%COMP%]{width:100%}.blog-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.filters[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filters[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}']})}}return s})();export{X as BlogsComponent};
