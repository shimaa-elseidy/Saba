import{g as j}from"./chunk-JKYV32XC.js";import{a as z}from"./chunk-SLPUACWX.js";import{a as E,c as F}from"./chunk-Q5MV2RZV.js";import{l as T,w as I}from"./chunk-EJ3EEOXZ.js";import{Cb as p,Eb as B,Kb as n,Lb as o,Mb as l,Qb as b,Vb as f,Wb as P,Y as y,_a as O,ca as S,eb as s,ec as a,fc as d,gc as M,hc as w,kb as x,na as _,oa as C,qb as k,vb as m}from"./chunk-FHROAHAP.js";import{a as h,b as v}from"./chunk-WWX6BADO.js";var U=(()=>{class r{constructor(){this.http=S(F),this.apiUrl=z.apiUrl}getBlogs(){return this.http.get(`${this.apiUrl}/blog/home_Blogs`)}getBlogDetails(t){return this.http.get(`${this.apiUrl}/blog/details/${t}`)}getBlogsCategoryHome(){return this.http.get(`${this.apiUrl}/blog/categories_Home`)}getBlogsTagsHome(){return this.http.get(`${this.apiUrl}/blog/tags_Home`)}getBlogsTourCardsHome(){return this.http.get(`${this.apiUrl}/Tour/cards`)}addComment(t){let e=localStorage.getItem("token");e||console.error("Token not found");let i=new E({Authorization:`Bearer ${e}`});return this.http.post(`${this.apiUrl}/comments`,t,{headers:i})}isLoggedIn(){return!!localStorage.getItem("token")}getUserInfoFromToken(){let t=localStorage.getItem("token");if(!t)return null;try{let i=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),c=decodeURIComponent(atob(i).split("").map(u=>"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(c)}catch(e){return console.error("Error parsing token:",e),null}}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function L(r,g){if(r&1){let t=b();n(0,"li"),l(1,"hr"),n(2,"div",15),f("click",function(){let i=_(t).$implicit,c=P();return C(c.navigateToBlog(i.id))}),l(3,"img",16),n(4,"div",17)(5,"p",18),l(6,"i",19),a(7),o(),n(8,"span",20),a(9),o()()()()}if(r&2){let t=g.$implicit;s(3),p("src",t.mainImage,O),s(4),M(" By Saba Tours ---- ",t.category,""),s(2),d(t.title)}}function V(r,g){if(r&1){let t=b();n(0,"span",21),f("click",function(){let i=_(t).$implicit,c=P();return C(c.router.navigate(["/blog/category",i.id]))}),a(1),o()}if(r&2){let t=g.$implicit;s(),d(t.name)}}function R(r,g){if(r&1){let t=b();n(0,"span",21),f("click",function(){let i=_(t).$implicit,c=P();return C(c.router.navigate(["/blog/tag",i.id]))}),a(1),o()}if(r&2){let t=g.$implicit;s(),d(t.name)}}function N(r,g){if(r&1&&(n(0,"div",22),l(1,"img",23),n(2,"div",24)(3,"button",25),l(4,"span",26),o(),n(5,"button",27),l(6,"span",28),o()(),n(7,"div",29)(8,"div",30)(9,"p",31),a(10),o(),n(11,"span",32),l(12,"i",33),a(13),o()(),n(14,"p",34),a(15),o(),n(16,"div",35)(17,"span",36),l(18,"i",37),a(19),o(),n(20,"span",36),l(21,"i",38),a(22),o()(),n(23,"div",39)(24,"span",40),a(25,"Starting from:"),o(),n(26,"span",41),a(27),o(),n(28,"button",42),a(29,"Explore Now"),o()()()()),r&2){let t=g.$implicit,e=g.index;B("active",e===0),s(),p("src",t.mainImageUrl,O),s(9),d(t.location),s(3),w(" ",t.rating," (",t.reviews," Reviews) "),s(2),d(t.description),s(4),M(" ",t.peopleCount," People "),s(3),M(" ",t.duration," "),s(5),d(t.price)}}var W=(()=>{class r{constructor(t,e){this.blogService=t,this.router=e,this.blogs=[],this.categories=[],this.tags=[],this.youMayLikeList=[],this.randomBlogs=[],this.randomCategories=[],this.randomTags=[]}ngOnInit(){this.getBlogs(),this.getCategories(),this.getTags(),this.getTourCards()}getRandomItems(t,e){let i=[...t];for(let c=i.length-1;c>0;c--){let u=Math.floor(Math.random()*(c+1));[i[c],i[u]]=[i[u],i[c]]}return i.slice(0,e)}getBlogs(){this.blogService.getBlogs().subscribe({next:t=>{this.blogs=t,this.randomBlogs=this.getRandomItems(this.blogs,6)},error:t=>{console.error("Error fetching blogs:",t)}})}getCategories(){this.blogService.getBlogsCategoryHome().subscribe({next:t=>{this.categories=t,this.randomCategories=this.getRandomItems(this.categories,6)},error:t=>{console.error("Error fetching categories:",t)}})}getTags(){this.blogService.getBlogsTagsHome().subscribe({next:t=>{this.tags=t,this.randomTags=this.getRandomItems(this.tags,6)},error:t=>{console.error("Error fetching tags:",t)}})}getTourCards(){this.blogService.getBlogsTourCardsHome().subscribe({next:t=>{this.youMayLikeList=t.map(e=>v(h({},e),{reviews:e.reviews||0,description:e.description||"",duration:`${e.tourDay}Day/${e.tourNight}Night`}))},error:t=>{console.error("Error fetching tour cards:",t)}})}navigateToBlog(t){window.scrollTo(0,0),this.router.navigate(["/blog",t])}trackByFn(t,e){return e.id}static{this.\u0275fac=function(e){return new(e||r)(x(U),x(j))}}static{this.\u0275cmp=k({type:r,selectors:[["app-blog-post-side-bar"]],decls:25,vars:6,consts:[[1,"sidebar"],[1,"section-title"],[1,"card","my-2"],["src","assets/egyptjpg.jpg","alt","You May Like Image",1,"card-img-top"],[1,"card-body"],[1,"card-title","fw-bold"],[1,"list-unstyled"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"section-title","my-3"],[1,"tags"],["class","tag","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"you-may-like","py-3"],["id","youMayLikeCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","align-items-center","mb-3","related-post",2,"cursor","pointer",3,"click"],["alt","Post Image",1,"sidebar-img",3,"src"],[1,"post-content"],[1,"category"],[1,"bi","bi-person"],[1,"post-title"],[1,"tag",2,"cursor","pointer",3,"click"],[1,"carousel-item"],["alt","Tour Image",1,"d-block","w-100",3,"src"],[1,"carousel-controls"],["type","button","data-bs-target","#youMayLikeCarousel","data-bs-slide","prev",1,"carousel-control-prev"],[1,"carousel-control-prev-icon"],["type","button","data-bs-target","#youMayLikeCarousel","data-bs-slide","next",1,"carousel-control-next"],[1,"carousel-control-next-icon"],[1,"tour-info"],[1,"d-flex","justify-content-between"],[1,"locations"],[1,"rating"],[1,"bi","bi-star-fill"],[1,"description"],[1,"tour-meta","d-flex","justify-content-between"],[1,"duration"],[1,"bi","bi-people"],[1,"bi","bi-clock"],[1,"price-section"],[1,"price-label"],[1,"price"],[1,"btn","explore-btn"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"h5",1),a(2,"Related Post"),o(),n(3,"div",2),l(4,"img",3),n(5,"div",4)(6,"p",5),a(7,"The Ultimate Guide to Planning Your Perfect Tour From Start to Finish"),o()()(),n(8,"ul",6),m(9,L,10,3,"li",7),l(10,"hr"),o(),n(11,"h5",8),a(12,"Categories"),o(),n(13,"div",9),m(14,V,2,1,"span",10),o(),n(15,"h5",8),a(16,"Popular Tag"),o(),n(17,"div",9),m(18,R,2,1,"span",10),o(),n(19,"div",11)(20,"h5",1),a(21,"You May Like"),o(),n(22,"div",12)(23,"div",13),m(24,N,30,10,"div",14),o()()()()),e&2&&(s(9),p("ngForOf",i.randomBlogs)("ngForTrackBy",i.trackByFn),s(5),p("ngForOf",i.randomCategories),s(4),p("ngForOf",i.randomTags),s(6),p("ngForOf",i.youMayLikeList)("ngForTrackBy",i.trackByFn))},dependencies:[I,T],styles:['@charset "UTF-8";.sidebar[_ngcontent-%COMP%]{padding:20px;margin-top:35px;box-shadow:0 4px 12px #0003}.sidebar[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-bottom:15px}.sidebar[_ngcontent-%COMP%]   .related-post[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.sidebar[_ngcontent-%COMP%]   .related-post[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:5px}.sidebar[_ngcontent-%COMP%]   .related-post[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:12px;color:gray}.sidebar[_ngcontent-%COMP%]   .related-post[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   .post-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{background:gray}.sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0}.sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-size:14px}.sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px}.sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#f0f0f0;padding:5px 10px;font-size:12px;border-radius:5px}.sidebar[_ngcontent-%COMP%]   .you-may-like[_ngcontent-%COMP%]{position:relative;margin:2rem 0}.sidebar[_ngcontent-%COMP%]   .you-may-like[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:1.5rem;color:#333;font-size:1.25rem}.sidebar[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;box-shadow:0 4px 12px #0000001a;position:relative}.sidebar[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-fit:cover}.sidebar[_ngcontent-%COMP%]   .carousel-controls[_ngcontent-%COMP%]{position:absolute;top:30%;left:0;right:0;display:flex;justify-content:space-between;padding:0 10px;z-index:10;pointer-events:none}.sidebar[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{background-color:#fff;color:#0d62e2;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:none;opacity:1;box-shadow:0 2px 5px #0003;transition:all .3s ease;cursor:pointer;pointer-events:auto}.sidebar[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#0d62e2;color:#fff}.sidebar[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]:focus, .sidebar[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]:focus{outline:none}.sidebar[_ngcontent-%COMP%]   .carousel-control-prev-icon[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .carousel-control-next-icon[_ngcontent-%COMP%]{background-image:none!important;display:inline-block;width:20px;height:20px;position:relative}.sidebar[_ngcontent-%COMP%]   .carousel-control-prev-icon[_ngcontent-%COMP%]:before, .sidebar[_ngcontent-%COMP%]   .carousel-control-next-icon[_ngcontent-%COMP%]:before{font-family:bootstrap-icons;font-size:18px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:currentColor}.sidebar[_ngcontent-%COMP%]   .carousel-control-prev-icon[_ngcontent-%COMP%]:before{content:"\\f12f"}.sidebar[_ngcontent-%COMP%]   .carousel-control-next-icon[_ngcontent-%COMP%]:before{content:"\\f138"}.sidebar[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]{background:#fff;padding:20px}.sidebar[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .locations[_ngcontent-%COMP%]{color:#666;font-size:.9rem;margin-bottom:.5rem}.sidebar[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#333;font-weight:500;margin-bottom:1rem;font-size:.95rem}.sidebar[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .tour-meta[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:1rem;font-size:.9rem}.sidebar[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .tour-meta[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{color:#ff9529;display:flex;align-items:center;gap:5px}.sidebar[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .tour-meta[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{color:#666;display:flex;align-items:center;gap:5px}.sidebar[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.sidebar[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]   .price-label[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.sidebar[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:700;color:#0d62e2;font-size:1.1rem;margin-right:auto;margin-left:5px}.sidebar[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]   .explore-btn[_ngcontent-%COMP%]{background-color:#0d62e2;color:#fff;border:none;padding:8px 15px;border-radius:5px;font-size:.9rem;transition:background-color .3s ease}.sidebar[_ngcontent-%COMP%]   .tour-info[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]   .explore-btn[_ngcontent-%COMP%]:hover{background-color:#0a4db2}']})}}return r})();export{U as a,W as b};
