import{a as y}from"./chunk-M5QVVNU3.js";import{a as S}from"./chunk-IP3FY2TA.js";import"./chunk-CU2TEK6Q.js";import{h as O,l as w}from"./chunk-JKYV32XC.js";import"./chunk-SLPUACWX.js";import"./chunk-MMGRQEJU.js";import"./chunk-Q5MV2RZV.js";import{k as P,l as M,m as k,p as v}from"./chunk-EJ3EEOXZ.js";import{Cb as a,Kb as i,Lb as e,Mb as b,Vb as p,Wb as C,_a as m,eb as o,ec as t,fc as s,gc as d,kb as x,oc as h,qb as _,vb as g}from"./chunk-FHROAHAP.js";import"./chunk-WWX6BADO.js";var E=r=>({color:r});function I(r,f){if(r&1&&(i(0,"div")(1,"p",10),t(2),e()()),r&2){let n=C();o(2),d("No ",n.currentFilter," bookings available.")}}function B(r,f){r&1&&(i(0,"div",27)(1,"button"),t(2,"Pay Full Amount"),e(),i(3,"button"),t(4,"Refund"),e()())}function T(r,f){if(r&1&&(i(0,"div",11)(1,"div",12)(2,"div",13),b(3,"img",14),i(4,"h1"),t(5),e()(),i(6,"div",15)(7,"p",16)(8,"span"),t(9,"Phone:"),e(),t(10),e(),i(11,"p",16)(12,"span"),t(13,"Email:"),e(),t(14),e()(),i(15,"div",17)(16,"p",16)(17,"span"),t(18,"Booking Date:"),e(),t(19),e(),i(20,"p",16)(21,"span"),t(22,"Tour Type:"),e(),t(23),e()(),i(24,"div",18)(25,"p",19)(26,"span",20),t(27,"Price:"),e(),t(28),e()()(),i(29,"div",21)(30,"div",22)(31,"p",16)(32,"span"),t(33,"Status: "),e(),i(34,"span",23),t(35),e()(),i(36,"p",16)(37,"span"),t(38,"Tour Name:"),e(),t(39),e(),i(40,"p",16)(41,"span"),t(42,"Guests:"),e(),t(43),e(),i(44,"p",16)(45,"span"),t(46,"Duration:"),e(),t(47),e(),i(48,"p",16)(49,"span"),t(50,"Tour Start:"),e(),t(51),e()(),i(52,"div",24),b(53,"img",25),e()(),g(54,B,5,0,"div",26),e()),r&2){let n=f.$implicit;o(3),a("src",n.userImage,m),o(2),s(n.username),o(5),s(n.phone),o(4),d(" ",n.email,""),o(5),s(n.bookingDate),o(4),s(n.tourType),o(5),d("$ ",n.price,""),o(6),a("ngStyle",h(15,E,n.status==="Paid"?"green":"red")),o(),s(n.status),o(4),d(" ",n.tourName,""),o(4),d(" ",n.guests,""),o(4),d(" ",n.duration,""),o(4),d(" ",n.tourStart,""),o(2),a("src",n.imageUrl,m),o(),a("ngIf",n.status!=="Paid"&&n.status!=="Canceled"&&n.status!=="Deleted")}}var L=(()=>{class r{constructor(n,l){this.authService=n,this.toastr=l,this.bookings=[],this.isLoading=!0,this.filters=["Paid","Canceled","Deleted","Pending"],this.filteredBooking=[],this.currentFilter="Paid"}ngOnInit(){this.loadBookings()}loadBookings(){this.authService.fetchBooking().subscribe({next:n=>{this.bookings=n,console.log(this.bookings),this.isLoading=!1},error:n=>{this.toastr.error("Error fetching Wallet","Error"),this.isLoading=!1}})}filter(n){this.currentFilter=n,n==="All"?this.filteredBooking=this.bookings:this.filteredBooking=this.bookings.filter(l=>l.status===n)}getCount(n){return this.bookings.filter(l=>l.status===n).length}static{this.\u0275fac=function(l){return new(l||r)(x(y),x(S))}}static{this.\u0275cmp=_({type:r,selectors:[["app-my-bookings-user"]],decls:28,vars:10,consts:[[1,"component-class"],[1,"recent-tours"],[1,"allBtns","d-flex","justify-content-between","align-items-center"],[1,"filter-buttons"],[3,"click"],[1,"badge",3,"ngClass"],["routerLink","/dashboard/add-new-booking",1,"addBtn"],[4,"ngIf"],[1,"booking-scroll-wrapper"],["class","tour-card",4,"ngFor","ngForOf"],[1,"no-results-message"],[1,"tour-card"],[1,"tour-header"],[1,"user-info"],["alt","User Image",1,"user-image",3,"src"],[1,"contact-info"],[1,"black"],[1,"booking-info"],[1,"price-info"],[1,"price"],[1,"spanPrice"],[1,"detail-image"],[1,"tour-details"],[3,"ngStyle"],[1,"tour-image"],["alt","Tour Image",3,"src"],["class","tour-actions",4,"ngIf"],[1,"tour-actions"]],template:function(l,c){l&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),p("click",function(){return c.filter("Paid")}),t(5," Paid Booking "),i(6,"span",5),t(7),e()(),i(8,"button",4),p("click",function(){return c.filter("Canceled")}),t(9," Canceled Booking "),i(10,"span",5),t(11),e()(),i(12,"button",4),p("click",function(){return c.filter("Deleted")}),t(13," Deleted Booking "),i(14,"span",5),t(15),e()(),i(16,"button",4),p("click",function(){return c.filter("Pending")}),t(17," Pending Booking "),i(18,"span",5),t(19),e()()(),i(20,"div")(21,"button",6),t(22,"Add New Booking"),e()()(),i(23,"h2"),t(24,"Recent Tours:"),e(),g(25,I,3,1,"div",7),i(26,"div",8),g(27,T,55,17,"div",9),e()()()),l&2&&(o(6),a("ngClass","paid"),o(),s(c.getCount("Paid")),o(3),a("ngClass","canceled"),o(),s(c.getCount("Canceled")),o(3),a("ngClass","deleted"),o(),s(c.getCount("Deleted")),o(3),a("ngClass","pending"),o(),s(c.getCount("Pending")),o(6),a("ngIf",c.filteredBooking.length===0),o(2),a("ngForOf",c.filteredBooking))},dependencies:[P,k,M,v,w,O],styles:['@charset "UTF-8";.component-class[_ngcontent-%COMP%]{font-family:Inter,sans-serif}.recent-tours[_ngcontent-%COMP%]{width:90%;background-color:#ffffffb3;margin:30px auto;border-radius:15px;padding:20px}.booking-scroll-wrapper[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto;padding-right:10px}.booking-scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.booking-scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.booking-scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2d60ff;border-radius:10px}.booking-scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1c3fb3}.no-results-message[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#ff4d4d;text-align:center;margin-top:20px}.no-results-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;color:#333}h2[_ngcontent-%COMP%]{color:#2d60ff}.tour-card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;padding:16px;margin:16px auto;background-color:#f9f9f9;border-radius:15px;box-shadow:0 0 #0003}.filter-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:none;color:#000;padding:8px 25px;border-radius:5px;font-size:16px;font-weight:600;cursor:pointer;box-shadow:0 2px 10px #0000001a;position:relative}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:gray;color:#fff;border-radius:50%;width:20px;height:20px;font-size:12px;display:flex;align-items:center;justify-content:center}.filter-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#2d60ff;color:#fff}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .paid[_ngcontent-%COMP%]{background-color:green}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .canceled[_ngcontent-%COMP%]{background-color:orange}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .deleted[_ngcontent-%COMP%]{background-color:red}.addBtn[_ngcontent-%COMP%]{background-color:#2d60ff;border:none;color:#fff;font-size:16px;font-weight:600;padding:8px 25px;border-radius:5px;cursor:pointer;box-shadow:0 2px 10px #0000001a}.tour-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px;text-align:center}span[_ngcontent-%COMP%]{color:#2d60ff;font-weight:600}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.user-image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;margin-right:10px}.contact-info[_ngcontent-%COMP%], .booking-info[_ngcontent-%COMP%], .price-info[_ngcontent-%COMP%]{flex:1;min-width:150px}.detail-image[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}.tour-details[_ngcontent-%COMP%]{flex:1;min-width:200px}.tour-image[_ngcontent-%COMP%]{max-width:350px;width:100%}.tour-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px}.tour-actions[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-wrap:wrap;gap:10px;justify-content:flex-start}.tour-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#2d60ff;color:#fff;border-radius:15px;border:#2D60FF solid 1px;padding:10px 25px;transition:all 1s}.tour-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}@media (max-width: 768px){.tour-header[_ngcontent-%COMP%]{flex-direction:column;text-align:left;gap:15px}.detail-image[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;text-align:center}.tour-actions[_ngcontent-%COMP%]{justify-content:center}.allBtns[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filter-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:15px}.buttons[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 480px){.tour-card[_ngcontent-%COMP%]{width:95%}.user-image[_ngcontent-%COMP%]{width:40px;height:40px}.tour-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px}.badge[_ngcontent-%COMP%]{top:-8px;right:-8px;width:18px;height:18px;font-size:10px}}.price[_ngcontent-%COMP%]{background-color:#2d60ff;width:fit-content;padding:12px;border-radius:15px;font-size:20px;font-weight:800;color:#fff}.price[_ngcontent-%COMP%]   .spanPrice[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-weight:200}.black[_ngcontent-%COMP%]{color:#121212;font-size:16px;font-weight:500}']})}}return r})();export{L as MyBookingsUserComponent};
