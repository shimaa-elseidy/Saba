import{a as h}from"./chunk-SLPUACWX.js";import{a as i,c as p}from"./chunk-Q5MV2RZV.js";import{Y as a,ca as u,n as o,r as s}from"./chunk-FHROAHAP.js";var k=(()=>{class n{constructor(){this.http=u(p),this.apiUrl=h.apiUrl}bookTour(t){let e=localStorage.getItem("token");if(!e)return o(()=>new Error("Token not found"));let r=new i({Authorization:`Bearer ${e}`,"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/TourBooking/book`,t,{headers:r})}submitTourData(t){return this.http.post(`${this.apiUrl}/Tour`,t)}updateTour(t,e){let r=localStorage.getItem("token");if(!r)return o(()=>new Error("Token not found"));let l=new i({Authorization:`Bearer ${r}`,"Content-Type":"application/json"});return this.http.put(`${this.apiUrl}/Tour/${t}`,e,{headers:l})}submitBooking(t){return this.http.post(`${this.apiUrl}/admin/AdminBooking/create-booking`,t)}getTours(){return this.http.get(`${this.apiUrl}/admin/AdminBooking/tours`)}getUsers(){return this.http.get(`${this.apiUrl}/admin/AdminBooking/users`)}getTourById(t){return this.http.get(`${this.apiUrl}/Tour/details_Tour/${t}`)}getLatestTour(){return this.http.get(`${this.apiUrl}/Tour/latest`)}getCategory(){return this.http.get(`${this.apiUrl}/Tour/categories`)}getAllTours(){return this.http.get(`${this.apiUrl}/Tour`)}getDeletedTours(){return this.http.get(`${this.apiUrl}/Tour/deleted`)}deleteTour(t){return this.http.delete(`${this.apiUrl}/Tour/${t}SoftDeleteTour`)}restoreTour(t){return this.http.put(`${this.apiUrl}/Tour/restore/${t}`,{})}deletePermanently(t){return this.http.delete(`${this.apiUrl}/Tour/DeleteTour/${t}`)}getAllToursWithComments(){return this.http.get(`${this.apiUrl}/Tour/all-tours-with-comments`)}getTopTags(){return this.http.get(`${this.apiUrl}/Tour/TopTags`)}getRecentComment(){return this.http.get(`${this.apiUrl}/Tour/RecentComments`)}getTourDetails(t){return this.http.get(`${this.apiUrl}/Tour/details_Tour/${t}`)}addComment(t){let e=localStorage.getItem("token");if(!e)return o(()=>new Error("Token not found"));let r=new i({Authorization:`Bearer ${e}`});return this.http.post(`${this.apiUrl}/comments`,t,{headers:r})}getAllToursGuide(){return this.http.get(`${this.apiUrl}/Tour/GuideOfEgypt`)}getAllToursDay(){return this.http.get(`${this.apiUrl}/Tour/Day_oF_Trip`)}getAllToursClassic(){return this.http.get(`${this.apiUrl}/Tour/ClassicalTours`)}getAllToursTurkey(){return this.http.get(`${this.apiUrl}/Tour/Turkey_Trips`)}getUniquePlaces(){return this.getAllToursWithComments().pipe(s(t=>[...new Set(t.flatMap(e=>e.places||[]))].filter(e=>e)))}getUniqueTourTypes(){return this.getAllToursWithComments().pipe(s(t=>[...new Set(t.map(e=>e.tourCategory))].filter(e=>e)))}getFavoriteTours(){let t=localStorage.getItem("token");if(!t)return o(()=>new Error("Token not found"));let e=new i({Authorization:`Bearer ${t}`});return this.http.get("https://subatoursapi.premiumasp.net/api/Favorite/my-favorites",{headers:e})}isTourFavorite(t){let e=localStorage.getItem("token");if(!e)return o(()=>new Error("Token not found"));let r=new i({Authorization:`Bearer ${e}`});return this.http.get(`https://subatoursapi.premiumasp.net/api/Favorite/is-favorite/${t}`,{headers:r})}addTourToFavorites(t){let e=localStorage.getItem("token");if(!e)return o(()=>new Error("Token not found"));let r=new i({Authorization:`Bearer ${e}`});return this.http.post(`https://subatoursapi.premiumasp.net/api/Favorite/add/${t}`,{},{headers:r})}removeTourFromFavorites(t){let e=localStorage.getItem("token");if(!e)return o(()=>new Error("Token not found"));let r=new i({Authorization:`Bearer ${e}`});return this.http.delete(`https://subatoursapi.premiumasp.net/api/Favorite/remove/${t}`,{headers:r})}getAdminFavoriteTours(){return this.http.get("https://subatoursapi.premiumasp.net/api/Favorite/admin-favorites")}submitTravelRequest(t){let e=localStorage.getItem("token");if(!e)return o(()=>new Error("Token not found"));let r=new i({Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"*/*"});return this.http.post("https://subatoursapi.premiumasp.net/api/TravelRequests",t,{headers:r})}getTravelRequests(){let t=localStorage.getItem("token");if(!t)return o(()=>new Error("Token not found"));let e=new i({Authorization:`Bearer ${t}`,Accept:"application/json"});return this.http.get("https://subatoursapi.premiumasp.net/api/TravelRequests",{headers:e})}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275prov=a({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{k as a};
