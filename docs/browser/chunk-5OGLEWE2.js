import{a as A}from"./chunk-7OD7UXMC.js";import{a as H}from"./chunk-IP3FY2TA.js";import"./chunk-CU2TEK6Q.js";import{h as F,l as I}from"./chunk-JKYV32XC.js";import"./chunk-SLPUACWX.js";import"./chunk-MMGRQEJU.js";import"./chunk-Q5MV2RZV.js";import{l as V,m as z}from"./chunk-EJ3EEOXZ.js";import{Cb as d,Eb as b,Kb as o,Lb as r,Mb as _,Nb as v,Ob as y,Qb as h,Vb as p,Wb as c,_a as O,ca as C,dc as T,eb as a,ec as s,fc as k,gc as u,na as g,oa as x,oc as E,pa as M,qa as P,qb as w,vb as m,vc as S}from"./chunk-FHROAHAP.js";import"./chunk-WWX6BADO.js";var D=n=>["/dashboard/edit-tour",n];function j(n,f){if(n&1){let t=h();o(0,"button",4),p("click",function(){let i=g(t).$implicit,l=c();return x(l.filter(i))}),s(1),r()}if(n&2){let t=f.$implicit,e=c();b("active",e.currentFilter===t),a(),u(" ",t," ")}}function Y(n,f){if(n&1){let t=h();v(0),o(1,"button",22),s(2,"Edit"),r(),o(3,"button",23),p("click",function(){g(t);let i=c().$implicit,l=c();return x(l.deleteTour(i.id))}),s(4,"Delete"),r(),y()}if(n&2){let t=c().$implicit;a(),d("routerLink",E(1,D,t.id))}}function $(n,f){if(n&1){let t=h();o(0,"button",24),p("click",function(){g(t);let i=c().$implicit,l=c();return x(l.restoreTour(i.id))}),s(1,"Restore"),r(),o(2,"button",25),p("click",function(){g(t);let i=c().$implicit,l=c();return x(l.deletePermanently(i.id))}),s(3,"Delete Permanently"),r()}}function L(n,f){if(n&1&&(o(0,"div",14),_(1,"img",15),o(2,"div",16)(3,"h3"),s(4),r(),o(5,"p"),_(6,"i",17),s(7),r(),o(8,"div",18)(9,"div",19),m(10,Y,5,3,"ng-container",20)(11,$,4,0,"ng-template",null,0,S),r(),o(13,"div",21),s(14),r()()()()),n&2){let t=f.$implicit,e=T(12),i=c();a(),d("src",t.mainImage,O),a(3),k(t.tourTitle),a(3),u(" ",i.getPlaceNames(t)," "),a(3),d("ngIf",i.currentFilter!=="DeletedTours")("ngIfElse",e),a(4),u("$",t.tourPrice,"")}}function N(n,f){if(n&1&&(o(0,"div",26)(1,"p"),s(2,"No tours available for this category."),r(),o(3,"p"),s(4),r(),o(5,"p"),s(6),r()()),n&2){let t=c();a(4),u("Current Filter: ",t.currentFilter,""),a(2),u("Total Tours: ",t.tours.length,"")}}var Q=(()=>{class n{constructor(){this.tourService=C(A),this.toostr=C(H),this.filters=["Guide_Of_Egypt","Classical_Tours","Day_Trips","Turkey_Trips"],this.tours=[],this.filteredTours=[],this.currentFilter="All"}ngOnInit(){this.loadTours()}getPlaceNames(t){return t.places?.map(e=>e.name).join(", ")||""}loadTours(){this.tourService.getAllTours().subscribe({next:t=>{this.tours=t,console.log("Loaded Tours:",t),this.filteredTours=[...this.tours]},error:t=>{console.error("Error loading tours:",t)}})}filter(t){this.currentFilter=t,t==="DeletedTours"?this.tourService.getDeletedTours().subscribe({next:e=>{this.filteredTours=e},error:e=>{console.error("Error loading deleted tours:",e)}}):t==="All"?this.filteredTours=[...this.tours]:this.filteredTours=this.tours.filter(e=>e.tourCategory===t)}deleteTour(t){this.tourService.deleteTour(t).subscribe({next:()=>{this.filteredTours=this.filteredTours.filter(e=>e.id!==t),this.toostr.success("Tour deleted successfully")},error:e=>{console.log(e),this.toostr.error("Error deleting tour")}})}restoreTour(t){this.tourService.restoreTour(t).subscribe({next:()=>{this.tourService.getAllTours().subscribe({next:e=>{this.tours=e,this.filter(this.currentFilter),this.toostr.success("Tour restored successfully")},error:e=>{this.toostr.error("Error restoring tour")}})},error:e=>{this.toostr.error("Error restoring tour")}})}deletePermanently(t){this.tourService.deletePermanently(t).subscribe({next:()=>{this.filteredTours=this.filteredTours.filter(e=>e.id!==t),this.toostr.success("Tour permanently deleted")},error:e=>{console.error("Error details:",e),this.toostr.error("Error permanently deleting tour")}})}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=w({type:n,selectors:[["app-my-toors"]],decls:17,vars:7,consts:[["deletedActions",""],[1,"tours-container"],[1,"header"],[1,"filter-buttons","center-filters"],[3,"click"],[3,"active","click",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","18","height","18","fill","currentColor",1,"trash-icon"],["d","M9 3V4H4V6H5V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V6H20V4H15V3H9ZM7 6H17V19H7V6ZM9 8V17H11V8H9ZM13 8V17H15V8H13Z"],[1,"center-add-btn"],["routerLink","/dashboard/add-new-tour",1,"add-btn"],[1,"r"],[1,"tour-card"],["class","tour-item",4,"ngFor","ngForOf"],["class","no-tours-message",4,"ngIf"],[1,"tour-item"],["alt","Tour Image",1,"tour-image",3,"src"],[1,"tour-details"],[1,"bi","bi-geo-alt"],[1,"d-flex","align-items-center","justify-content-between"],[1,"buttons"],[4,"ngIf","ngIfElse"],[1,"price"],[1,"edit-btn",3,"routerLink"],[1,"edit-btn",3,"click"],[1,"restore-btn",3,"click"],[1,"delete-permanent-btn",3,"click"],[1,"no-tours-message"]],template:function(e,i){e&1&&(o(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),p("click",function(){return i.filter("All")}),s(4," All Tours "),r(),m(5,j,2,3,"button",5),o(6,"button",4),p("click",function(){return i.filter("DeletedTours")}),M(),o(7,"svg",6),_(8,"path",7),r(),s(9," Deleted Tours "),r()()(),P(),o(10,"div",8)(11,"button",9),s(12,"+ Add New Tour"),r()(),o(13,"div",10)(14,"div",11),m(15,L,15,6,"div",12),r()(),m(16,N,7,2,"div",13),r()),e&2&&(a(3),b("active",i.currentFilter==="All"),a(2),d("ngForOf",i.filters),a(),b("active",i.currentFilter==="DeletedTours"),a(9),d("ngForOf",i.filteredTours),a(),d("ngIf",i.filteredTours.length===0))},dependencies:[z,I,F,V],styles:['.tours-container[_ngcontent-%COMP%]{width:95%;max-width:1200px;margin:100px auto;display:flex;flex-direction:column;gap:20px;padding:30px;background-color:#f0f4ff;border-radius:16px;box-shadow:0 8px 30px #0000001a;border:1px solid rgba(45,96,255,.2);animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.tours-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.tours-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.tours-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2d60ff;border-radius:10px}.tours-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1a4bbd}.no-tours-message[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:1.2rem;color:#888;padding:40px 20px}.restore-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:8px 16px;border:1px solid #4caf50;border-radius:20px;margin-right:8px;cursor:pointer;font-size:12px;font-weight:600;transition:all .3s ease;box-shadow:0 2px 6px #4caf5033}.restore-btn[_ngcontent-%COMP%]:hover{background-color:#3d9140;transform:translateY(-2px);box-shadow:0 4px 8px #4caf504d}.delete-permanent-btn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff;padding:8px 16px;border:1px solid #f44336;border-radius:20px;cursor:pointer;font-size:12px;font-weight:600;transition:all .3s ease;box-shadow:0 2px 6px #f4433633}.delete-permanent-btn[_ngcontent-%COMP%]:hover{background-color:#d32f2f;transform:translateY(-2px);box-shadow:0 4px 8px #f443364d}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;flex-wrap:wrap;gap:10px}.right-section[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;padding:12px 24px}.center-add-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:30px 0 40px}.add-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:2px solid #007bff;padding:12px 28px;font-size:16px;font-weight:600;border-radius:30px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #007bff33;position:relative;overflow:hidden;z-index:1}.add-btn[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,#007bff,#00c6ff);opacity:0;z-index:-1;transition:opacity .3s ease}.add-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 15px #007bff4d}.add-btn[_ngcontent-%COMP%]:hover:after{opacity:1}.filter-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;flex-wrap:wrap;justify-content:center;margin:0 auto;width:100%}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #007bff;color:#007bff;padding:8px 18px;border-radius:30px;cursor:pointer;font-size:14px;font-weight:600;transition:all .3s ease;display:flex;align-items:center;gap:8px;position:relative;overflow:hidden;z-index:1;white-space:nowrap}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:#007bff;transition:all .3s ease;z-index:-1}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:before{left:0}.filter-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#007bff;box-shadow:0 4px 10px #007bff4d;transform:translateY(-2px)}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .trash-icon[_ngcontent-%COMP%]{width:16px;height:16px;fill:currentColor}.delete[_ngcontent-%COMP%]{background-color:#fff;color:#374151;padding:10px 16px;border:1px solid #e5e7eb;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:8px;font-size:14px;font-weight:500;transition:all .2s ease}.delete[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#d1d5db}.trash-icon[_ngcontent-%COMP%]{width:16px;height:16px;fill:#6b7280}.tour-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:24px;background:transparent;padding:0;border-radius:0;box-shadow:none;width:100%;margin:0 auto;max-width:900px}.tour-item[_ngcontent-%COMP%]{display:flex;gap:16px;background:#fff;padding:18px;border-radius:12px;box-shadow:0 4px 12px #0000000f;border:2px solid #007bff;transition:all .3s ease;align-items:flex-start;animation:_ngcontent-%COMP%_cardAppear .4s ease-out;position:relative;overflow:hidden}.tour-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:#007bff}.tour-item[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #007bff26;transform:translateY(-3px)}@keyframes _ngcontent-%COMP%_cardAppear{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.tour-image[_ngcontent-%COMP%]{width:90px;height:90px;object-fit:cover;border-radius:10px;flex-shrink:0;border:2px solid #007bff;box-shadow:0 4px 8px #007bff33;transition:transform .3s ease}.tour-item[_ngcontent-%COMP%]:hover   .tour-image[_ngcontent-%COMP%]{transform:scale(1.05)}.tour-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px}.tour-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:17px;font-weight:700;color:#007bff;line-height:1.4;transition:all .3s ease}.tour-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:14px;color:#6b7280;display:flex;align-items:center;gap:6px;line-height:1.4}.tour-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff}.location-icon[_ngcontent-%COMP%]{color:#2d60ff;font-size:14px}.buttons[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:8px}.edit-btn[_ngcontent-%COMP%]{padding:8px 14px;border:none;border-radius:20px;cursor:pointer;font-size:12px;font-weight:600;transition:all .3s ease;box-shadow:0 2px 6px #0000001a}.edit-btn[_ngcontent-%COMP%]:first-child{background:#007bff;color:#fff;border:1px solid #007bff}.edit-btn[_ngcontent-%COMP%]:first-child:hover{background:#0069d9;transform:translateY(-2px);box-shadow:0 4px 8px #007bff4d}.edit-btn[_ngcontent-%COMP%]:last-child{background:#ef4444;color:#fff;border:1px solid #ef4444}.edit-btn[_ngcontent-%COMP%]:last-child:hover{background:#dc2626;transform:translateY(-2px);box-shadow:0 4px 8px #ef44444d}.price[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:6px 12px;border-radius:20px;font-weight:700;font-size:14px;margin-top:auto;align-self:flex-end;box-shadow:0 2px 6px #007bff33;border:1px solid rgba(255,255,255,.3);transition:all .3s ease}.tour-item[_ngcontent-%COMP%]:hover   .price[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 4px 8px #007bff4d}.see-more[_ngcontent-%COMP%]{margin:24px auto 0;background-color:#2d60ff;color:#fff;padding:12px 32px;border:none;border-radius:8px;cursor:pointer;display:block;text-align:center;font-weight:500;font-size:14px;transition:background-color .2s ease}.see-more[_ngcontent-%COMP%]:hover{background-color:#1a4bbd}@media (max-width: 1024px){.tour-card[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}@media (max-width: 768px){.tours-container[_ngcontent-%COMP%]{width:95%;padding:20px;margin:50px auto}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px}.filter-buttons[_ngcontent-%COMP%]{justify-content:center;gap:8px}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.right-section[_ngcontent-%COMP%]{justify-content:center}.tour-card[_ngcontent-%COMP%]{grid-template-columns:1fr}.tour-item[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:12px}.tour-image[_ngcontent-%COMP%]{width:120px;height:120px;align-self:center}.tour-details[_ngcontent-%COMP%]{text-align:center}.buttons[_ngcontent-%COMP%]{justify-content:center}.price[_ngcontent-%COMP%]{align-self:center}}@media (max-width: 480px){.tours-container[_ngcontent-%COMP%]{width:98%;padding:12px}.filter-buttons[_ngcontent-%COMP%]{gap:6px}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{padding:8px 12px;font-size:12px}.tour-image[_ngcontent-%COMP%]{width:100px;height:100px}.tour-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.tour-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.edit-btn[_ngcontent-%COMP%]{padding:6px 10px;font-size:11px}.price[_ngcontent-%COMP%]{font-size:12px;padding:3px 6px}}.row[_ngcontent-%COMP%]{border-bottom:none}.tour-item[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_cardAppear;animation-duration:.5s;animation-fill-mode:both;animation-timing-function:ease-out}.tour-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.tour-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.tour-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.tour-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.tour-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.tour-item[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}.tour-item[_ngcontent-%COMP%]:nth-child(7){animation-delay:.7s}.tour-item[_ngcontent-%COMP%]:nth-child(8){animation-delay:.8s}.add-btn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #007bff66}70%{box-shadow:0 0 0 10px #007bff00}to{box-shadow:0 0 #007bff00}}']})}}return n})();export{Q as MyToorsComponent};
