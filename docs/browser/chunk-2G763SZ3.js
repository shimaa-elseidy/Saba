import{a as te}from"./chunk-7OD7UXMC.js";import{a as O}from"./chunk-IP3FY2TA.js";import{B as ee,c as B,e as s,f as G,g as L,l as H,m as U,p as J,s as K,t as Q,u as W,v as X,w as Z,z as $}from"./chunk-5ZW25HYA.js";import"./chunk-CU2TEK6Q.js";import"./chunk-SLPUACWX.js";import"./chunk-MMGRQEJU.js";import"./chunk-Q5MV2RZV.js";import{m as V,w as j}from"./chunk-EJ3EEOXZ.js";import{Cb as d,Eb as c,Kb as n,Lb as e,Mb as m,Vb as k,eb as o,ec as i,gc as Y,kb as q,mc as z,qb as w,vb as p}from"./chunk-FHROAHAP.js";import"./chunk-WWX6BADO.js";function ne(r,u){r&1&&(n(0,"div",47),i(1," Name is required. "),e())}function ie(r,u){r&1&&(n(0,"div",47),i(1," Email is required. "),e())}function re(r,u){r&1&&(n(0,"div",47),i(1," Please enter a valid email address. "),e())}function oe(r,u){r&1&&(n(0,"div",47),i(1," Destination is required. "),e())}function le(r,u){r&1&&(n(0,"div",47),i(1," Hotel type is required. "),e())}function ae(r,u){r&1&&(n(0,"div",47),i(1," Start date is required. "),e())}function de(r,u){r&1&&(n(0,"div",47),i(1," End date is required. "),e())}function me(r,u){r&1&&(n(0,"div",47),i(1," Number of adults is required. "),e())}function se(r,u){r&1&&(n(0,"div",47),i(1," Number of adults cannot be negative. "),e())}function ue(r,u){r&1&&(n(0,"div",47),i(1," Number of children cannot be negative. "),e())}function pe(r,u){r&1&&(n(0,"div",47),i(1," Number of infants cannot be negative. "),e())}var Se=(()=>{class r{constructor(l,a,t){this.fb=l,this.tourService=a,this.toastr=t,this.isSubmitting=!1,this.travelRequestForm=this.fb.group({yourName:["",s.required],emailAddress:["",[s.required,s.email]],preferredDestination:["",s.required],startDate:["",s.required],endDate:["",s.required],numberOfAdults:[0,[s.required,s.min(0)]],numberOfChildren:[0,s.min(0)],numberOfInfants:[0,s.min(0)],hotelType:["",s.required],desiredActivities:[""],specialRequests:[""],messages:[""],id:[0],createdAt:[new Date().toISOString()]})}ngOnInit(){this.ensureVideoIsMuted()}ensureVideoIsMuted(){let l=document.querySelector(".video-background video");if(l){l.muted=!0,l.volume=0,l.addEventListener("loadedmetadata",()=>{l.muted=!0,l.volume=0}),l.addEventListener("volumechange",()=>{(!l.muted||l.volume>0)&&(l.muted=!0,l.volume=0)});try{let a=l;if(a.audioTracks&&a.audioTracks.length>0)for(let t=0;t<a.audioTracks.length;t++)a.audioTracks[t].enabled=!1}catch(a){console.log("Cannot access audio tracks:",a)}}}onSubmit(){if(this.travelRequestForm.invalid){this.travelRequestForm.markAllAsTouched(),this.toastr.error("Please fill out all required fields correctly.","Error");return}this.isSubmitting=!0;let l=this.travelRequestForm.value;l.startDate=new Date(l.startDate).toISOString(),l.endDate=new Date(l.endDate).toISOString(),l.createdAt=new Date().toISOString(),this.tourService.submitTravelRequest(l).subscribe({next:()=>{this.isSubmitting=!1,this.toastr.success("Travel request submitted successfully!","Success"),this.travelRequestForm.reset({yourName:"",emailAddress:"",preferredDestination:"",startDate:"",endDate:"",numberOfAdults:0,numberOfChildren:0,numberOfInfants:0,hotelType:"",desiredActivities:"",specialRequests:"",messages:"",id:0,createdAt:new Date().toISOString()})},error:a=>{this.isSubmitting=!1,console.error("Error submitting travel request:",a),a.message==="Token not found"?this.toastr.error("Please log in to submit a travel request.","Unauthorized"):this.toastr.error("Failed to submit travel request.","Error")}})}static{this.\u0275fac=function(a){return new(a||r)(q($),q(te),q(O))}}static{this.\u0275cmp=w({type:r,selectors:[["app-design-your-trip"]],features:[z([O])],decls:87,vars:32,consts:[[1,"container-fluid","p-0"],[1,"filter-background"],[1,"overlay"],[1,"video-background"],["autoplay","","muted","","loop","","playsinline","","preload","auto"],["src","assets/videos/0_Ancient Egypt_Temple_1280x720.mp4","type","video/mp4"],[1,"container"],[1,"tour-title","text-center"],[1,"container","py-5"],[1,"form-container","bg-light","rounded","p-4","shadow"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-6"],["for","yourName",1,"form-label"],["id","yourName","type","text","formControlName","yourName","placeholder","Enter your full name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","emailAddress",1,"form-label"],["id","emailAddress","type","email","formControlName","emailAddress","placeholder","Enter your email",1,"form-control"],["for","preferredDestination",1,"form-label"],["id","preferredDestination","type","text","formControlName","preferredDestination","placeholder","E.g., Cairo, Istanbul",1,"form-control"],["for","hotelType",1,"form-label"],["id","hotelType","formControlName","hotelType",1,"form-select"],["value","","disabled",""],["value","Budget"],["value","Standard"],["value","Luxury"],["for","startDate",1,"form-label"],["id","startDate","type","date","formControlName","startDate",1,"form-control"],["for","endDate",1,"form-label"],["id","endDate","type","date","formControlName","endDate",1,"form-control"],[1,"col-md-4"],["for","numberOfAdults",1,"form-label"],["id","numberOfAdults","type","number","formControlName","numberOfAdults","min","0","placeholder","0",1,"form-control"],["for","numberOfChildren",1,"form-label"],["id","numberOfChildren","type","number","formControlName","numberOfChildren","min","0","placeholder","0",1,"form-control"],["for","numberOfInfants",1,"form-label"],["id","numberOfInfants","type","number","formControlName","numberOfInfants","min","0","placeholder","0",1,"form-control"],[1,"col-12"],["for","desiredActivities",1,"form-label"],["id","desiredActivities","formControlName","desiredActivities","rows","4","placeholder","E.g., Sightseeing, Adventure, Cultural Tours",1,"form-control"],["for","specialRequests",1,"form-label"],["id","specialRequests","formControlName","specialRequests","rows","4","placeholder","Any special requirements or preferences",1,"form-control"],["for","messages",1,"form-label"],["id","messages","formControlName","messages","rows","4","placeholder","Any other details you'd like to share",1,"form-control"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"]],template:function(a,t){if(a&1&&(n(0,"div",0)(1,"div",1),m(2,"div",2),n(3,"div",3)(4,"video",4),m(5,"source",5),i(6," Your browser does not support the video tag. "),e()(),n(7,"div",6)(8,"div",7)(9,"h1"),i(10,"Design Your Trip"),e()()()(),n(11,"div",8)(12,"div",9)(13,"h2",10),i(14,"Plan Your Perfect Trip"),e(),n(15,"form",11),k("ngSubmit",function(){return t.onSubmit()}),n(16,"div",12)(17,"div",13)(18,"label",14),i(19,"Your Name"),e(),m(20,"input",15),p(21,ne,2,0,"div",16),e(),n(22,"div",13)(23,"label",17),i(24,"Email Address"),e(),m(25,"input",18),p(26,ie,2,0,"div",16)(27,re,2,0,"div",16),e(),n(28,"div",13)(29,"label",19),i(30,"Preferred Destination"),e(),m(31,"input",20),p(32,oe,2,0,"div",16),e(),n(33,"div",13)(34,"label",21),i(35,"Hotel Type"),e(),n(36,"select",22)(37,"option",23),i(38,"Select hotel type"),e(),n(39,"option",24),i(40,"Budget"),e(),n(41,"option",25),i(42,"Standard"),e(),n(43,"option",26),i(44,"Luxury"),e()(),p(45,le,2,0,"div",16),e(),n(46,"div",13)(47,"label",27),i(48,"Start Date"),e(),m(49,"input",28),p(50,ae,2,0,"div",16),e(),n(51,"div",13)(52,"label",29),i(53,"End Date"),e(),m(54,"input",30),p(55,de,2,0,"div",16),e(),n(56,"div",31)(57,"label",32),i(58,"Number of Adults"),e(),m(59,"input",33),p(60,me,2,0,"div",16)(61,se,2,0,"div",16),e(),n(62,"div",31)(63,"label",34),i(64,"Number of Children"),e(),m(65,"input",35),p(66,ue,2,0,"div",16),e(),n(67,"div",31)(68,"label",36),i(69,"Number of Infants"),e(),m(70,"input",37),p(71,pe,2,0,"div",16),e(),n(72,"div",38)(73,"label",39),i(74,"Desired Activities"),e(),m(75,"textarea",40),e(),n(76,"div",38)(77,"label",41),i(78,"Special Requests"),e(),m(79,"textarea",42),e(),n(80,"div",38)(81,"label",43),i(82,"Additional Messages"),e(),m(83,"textarea",44),e()(),n(84,"div",45)(85,"button",46),i(86),e()()()()()()),a&2){let f,E,v,x,D,g,P,b,T,_,M,h,R,C,F,A,S,N,y,I;o(15),d("formGroup",t.travelRequestForm),o(5),c("is-invalid",((f=t.travelRequestForm.get("yourName"))==null?null:f.invalid)&&((f=t.travelRequestForm.get("yourName"))==null?null:f.touched)),o(),d("ngIf",(E=t.travelRequestForm.get("yourName"))==null?null:E.hasError("required")),o(4),c("is-invalid",((v=t.travelRequestForm.get("emailAddress"))==null?null:v.invalid)&&((v=t.travelRequestForm.get("emailAddress"))==null?null:v.touched)),o(),d("ngIf",(x=t.travelRequestForm.get("emailAddress"))==null?null:x.hasError("required")),o(),d("ngIf",(D=t.travelRequestForm.get("emailAddress"))==null?null:D.hasError("email")),o(4),c("is-invalid",((g=t.travelRequestForm.get("preferredDestination"))==null?null:g.invalid)&&((g=t.travelRequestForm.get("preferredDestination"))==null?null:g.touched)),o(),d("ngIf",(P=t.travelRequestForm.get("preferredDestination"))==null?null:P.hasError("required")),o(4),c("is-invalid",((b=t.travelRequestForm.get("hotelType"))==null?null:b.invalid)&&((b=t.travelRequestForm.get("hotelType"))==null?null:b.touched)),o(9),d("ngIf",(T=t.travelRequestForm.get("hotelType"))==null?null:T.hasError("required")),o(4),c("is-invalid",((_=t.travelRequestForm.get("startDate"))==null?null:_.invalid)&&((_=t.travelRequestForm.get("startDate"))==null?null:_.touched)),o(),d("ngIf",(M=t.travelRequestForm.get("startDate"))==null?null:M.hasError("required")),o(4),c("is-invalid",((h=t.travelRequestForm.get("endDate"))==null?null:h.invalid)&&((h=t.travelRequestForm.get("endDate"))==null?null:h.touched)),o(),d("ngIf",(R=t.travelRequestForm.get("endDate"))==null?null:R.hasError("required")),o(4),c("is-invalid",((C=t.travelRequestForm.get("numberOfAdults"))==null?null:C.invalid)&&((C=t.travelRequestForm.get("numberOfAdults"))==null?null:C.touched)),o(),d("ngIf",(F=t.travelRequestForm.get("numberOfAdults"))==null?null:F.hasError("required")),o(),d("ngIf",(A=t.travelRequestForm.get("numberOfAdults"))==null?null:A.hasError("min")),o(4),c("is-invalid",((S=t.travelRequestForm.get("numberOfChildren"))==null?null:S.invalid)&&((S=t.travelRequestForm.get("numberOfChildren"))==null?null:S.touched)),o(),d("ngIf",(N=t.travelRequestForm.get("numberOfChildren"))==null?null:N.hasError("min")),o(4),c("is-invalid",((y=t.travelRequestForm.get("numberOfInfants"))==null?null:y.invalid)&&((y=t.travelRequestForm.get("numberOfInfants"))==null?null:y.touched)),o(),d("ngIf",(I=t.travelRequestForm.get("numberOfInfants"))==null?null:I.hasError("min")),o(14),d("disabled",t.travelRequestForm.invalid||t.isSubmitting),o(),Y(" ",t.isSubmitting?"Submitting...":"Submit Request"," ")}},dependencies:[j,V,ee,H,W,X,B,U,Q,G,L,Z,J,K],styles:[".container-fluid[_ngcontent-%COMP%]{font-family:Barlow,sans-serif}.filter-background[_ngcontent-%COMP%]{width:100%;height:40vh;position:relative;display:flex;margin-bottom:20px;align-items:center;overflow:hidden}.video-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}.video-background[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0009;z-index:1}.filter-background[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{z-index:2}.tour-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:15px;color:#fff;font-size:2.5rem;font-weight:700;text-transform:uppercase;letter-spacing:2px;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_fadeInDown 1.5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}.form-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;background-color:#fffffff2;border-radius:8px;padding:30px;box-shadow:0 2px 10px #0003}h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:#333}.form-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#333;margin-bottom:.3rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #ddd;padding:8px;font-size:.9rem;transition:border-color .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#0d62e2;box-shadow:0 0 5px #0d62e24d;outline:none}.form-select[_ngcontent-%COMP%]{cursor:pointer}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.invalid-feedback[_ngcontent-%COMP%]{font-size:.8rem}.btn-primary[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;border-radius:4px;background-color:#0d62e2;border:none;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0948b3}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed}@media (max-width: 768px){.filter-background[_ngcontent-%COMP%]{height:400px}.tour-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.form-container[_ngcontent-%COMP%]{padding:20px}h2[_ngcontent-%COMP%]{font-size:1.5rem}.form-label[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:.85rem}.btn-primary[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 16px}}"]})}}return r})();export{Se as DesignYourTripComponent};
