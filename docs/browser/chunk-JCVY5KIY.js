import{a as O}from"./chunk-M5QVVNU3.js";import{a as P}from"./chunk-IP3FY2TA.js";import"./chunk-CU2TEK6Q.js";import"./chunk-JKYV32XC.js";import"./chunk-SLPUACWX.js";import"./chunk-MMGRQEJU.js";import"./chunk-Q5MV2RZV.js";import{l as M}from"./chunk-EJ3EEOXZ.js";import{Cb as s,Kb as o,Lb as i,Mb as c,Qb as u,Vb as b,Wb as h,_a as x,ca as d,eb as r,ec as a,fc as C,gc as _,na as m,oa as l,qb as f,vb as g}from"./chunk-FHROAHAP.js";import"./chunk-WWX6BADO.js";function y(n,v){if(n&1){let t=u();o(0,"div",2)(1,"div",3),c(2,"img",4),o(3,"div",5)(4,"h3"),a(5),i(),o(6,"p"),a(7),i()()(),o(8,"div",6)(9,"div",7)(10,"button",8),c(11,"i",9),i(),o(12,"button",10),b("click",function(){let p=m(t).$implicit,w=h();return l(w.deleteComment(p.id))}),c(13,"i",11),i()()()()}if(n&2){let t=v.$implicit;r(2),s("src",t.user.profilePicture,x),r(3),C(t.user.name),r(2),_('"',t.createdAt,'"')}}var T=(()=>{class n{constructor(){this.authService=d(O),this.toastr=d(P),this.comments=[]}ngOnInit(){this.loadComments()}loadComments(){this.authService.fetchComments().subscribe({next:t=>{this.comments=t,console.log(this.comments)},error:t=>{console.error("Error loading comments:",t)}})}deleteComment(t){this.authService.deleteCommentById(t).subscribe({next:()=>{this.comments=this.comments.filter(e=>e.id!==t),this.toastr.success("Comment deleted successfully!","Deleted")},error:e=>{this.toastr.error("Failed to delete comment.","Error")}})}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=f({type:n,selectors:[["app-my-comments-user"]],decls:4,vars:1,consts:[[1,"recentComment"],["class","comments-container",4,"ngFor","ngForOf"],[1,"comments-container"],[1,"comment-card"],["alt","User",1,"avatar",3,"src"],[1,"comment-content"],[1,"actions"],[1,"d-flex"],[1,"icon-btn","btn","btn-light","me-2"],[1,"bi","bi-chat-dots-fill"],[1,"icon-btn","btn","btn-light",3,"click"],[1,"bi","bi-x-lg"]],template:function(e,p){e&1&&(o(0,"div",0)(1,"h1"),a(2,"My Comments"),i(),g(3,y,14,3,"div",1),i()),e&2&&(r(3),s("ngForOf",p.comments))},dependencies:[M],styles:['@charset "UTF-8";.recentComment[_ngcontent-%COMP%]{width:90%;background-color:#ffffffb3;margin:30px auto;border-radius:15px;padding:20px;border:1px solid #e0e0e0}.comments-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:40px;padding:20px;flex-wrap:wrap}h1[_ngcontent-%COMP%]{color:#2d60ff}.filter-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;width:80%;margin:0 auto}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#2d60ff;border:none;color:#fff;padding:8px 25px;border-radius:5px;cursor:pointer;box-shadow:0 2px 10px #0000001a}.titleDeletedBtn[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.comment-card[_ngcontent-%COMP%]{width:70%;position:relative;background-color:#2d60ff;color:#fff;border-radius:15px;padding:20px 20px 40px;box-shadow:2px 4px 10px #0003}.avatar[_ngcontent-%COMP%]{position:absolute;top:-25px;left:-25px;width:50px;height:50px;border-radius:50%;border:3px solid white}.comment-content[_ngcontent-%COMP%]{margin-top:10px}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;margin-left:-10px}.actions[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{gap:5px}.icon-btn[_ngcontent-%COMP%]{background-color:#2d60ff;border:none;color:#fff;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;cursor:pointer}.delete[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important;padding:8px 20px;border:none;border-radius:12px;cursor:pointer;box-shadow:0 4px 6px #0003;transition:all .3s ease-in-out;display:flex;align-items:center;gap:8px}.delete[_ngcontent-%COMP%]:hover{box-shadow:0 6px 8px #0006}.trash-icon[_ngcontent-%COMP%]{width:20px;height:20px;fill:#0d62e2}.reply-btn[_ngcontent-%COMP%]{background-color:#2d60ff;color:#fff;border:none;padding:5px 15px;border-radius:20px;cursor:pointer}.see-more[_ngcontent-%COMP%]{margin:20px auto;background-color:#2d60ff;color:#fff;padding:8px 35px;border:none;border-radius:5px;cursor:pointer;display:block;text-align:center}@media (max-width: 768px){.titleDeletedBtn[_ngcontent-%COMP%]{display:block;margin-bottom:15px}.comment-card[_ngcontent-%COMP%]{width:90%;padding:15px 15px 30px}.comments-container[_ngcontent-%COMP%]{gap:20px}.filter-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (max-width: 480px){.comment-card[_ngcontent-%COMP%]{width:100%;padding:10px 10px 20px}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;top:-20px;left:-20px}.icon-btn[_ngcontent-%COMP%]{width:30px;height:30px;font-size:1rem}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 15px}.recentComment[_ngcontent-%COMP%]{width:95%}}']})}}return n})();export{T as MyCommentsUserComponent};
