import{a as B,b as E}from"./chunk-6FGLY5Z5.js";import{h as S}from"./chunk-JKYV32XC.js";import"./chunk-SLPUACWX.js";import"./chunk-MMGRQEJU.js";import"./chunk-Q5MV2RZV.js";import{l as k}from"./chunk-EJ3EEOXZ.js";import{Cb as s,Eb as O,Kb as n,Lb as o,Mb as c,Qb as M,Vb as y,Wb as f,_a as _,eb as r,ec as a,fc as g,gc as m,kb as P,na as h,oa as v,oc as w,qb as C,vb as b}from"./chunk-FHROAHAP.js";import{a as u,b as x}from"./chunk-WWX6BADO.js";var I=i=>["/blog",i];function z(i,d){if(i&1&&(n(0,"div",20)(1,"div",21)(2,"div",22),c(3,"img",23),n(4,"div",24)(5,"span",25),a(6),o(),n(7,"span",26),a(8),o()()(),n(9,"div",27)(10,"div",28)(11,"div",29)(12,"span",30),c(13,"i",31),a(14," By Sabatours --"),o(),n(15,"span",32),c(16,"i",33),a(17),o()(),n(18,"div",34)(19,"span"),c(20,"i",35),a(21),o(),n(22,"span"),c(23,"i",36),a(24),o()()(),n(25,"h5",37),a(26),o(),n(27,"p",38),a(28),o()()()()),i&2){let t=d.$implicit;r(),s("routerLink",w(9,I,t.id)),r(2),s("src",t.mainImage,_),r(3),g(t.date),r(2),g(t.month),r(9),m(" ",t.category,""),r(4),m(" ",t.commentCount,""),r(3),m(" ",t.viewCount,""),r(2),g(t.title),r(2),m(" ",t.excerpt||"June is Pride Month, a time to celebrate and support the LGBTQ+ community..."," ")}}function F(i,d){if(i&1&&(n(0,"div",18),b(1,z,29,11,"div",19),o()),i&2){let t=d.$implicit;r(),s("ngForOf",t)}}function T(i,d){if(i&1){let t=M();n(0,"li",39)(1,"a",40),y("click",function(){let l=h(t).$implicit,p=f();return v(p.changePage(l))}),a(2),o()()}if(i&2){let t=d.$implicit,e=f();r(),O("active",e.currentPage===t),r(),g(t)}}var $=(()=>{class i{constructor(t){this.blogService=t,this.breadcrumbs=[{label:"Home",url:"/"},{label:"Blog Post",url:null}],this.pageTitle="Blog Post",this.currentPage=1,this.itemsPerPage=10,this.blogs=[],this.blogRows=[]}ngOnInit(){this.getBlogs(),this.ensureVideoIsMuted()}ensureVideoIsMuted(){let t=document.querySelector(".video-background video");if(t){t.muted=!0,t.volume=0,t.addEventListener("loadedmetadata",()=>{t.muted=!0,t.volume=0}),t.addEventListener("volumechange",()=>{(!t.muted||t.volume>0)&&(t.muted=!0,t.volume=0)});try{let e=t;if(e.audioTracks&&e.audioTracks.length>0)for(let l=0;l<e.audioTracks.length;l++)e.audioTracks[l].enabled=!1}catch(e){console.log("\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0645\u0633\u0627\u0631\u0627\u062A \u0627\u0644\u0635\u0648\u062A:",e)}}}getBlogs(){this.blogService.getBlogs().subscribe({next:t=>{this.blogs=t.map(e=>{let p=e.createdAtFormatted?.split(",")[1]?.trim().split(" ")??[];return x(u({},e),{month:p[0]||"",date:p[1]||""})}),this.updateBlogRows()},error:t=>{console.error("Error fetching blogs:",t)}})}updateBlogRows(){let t=(this.currentPage-1)*this.itemsPerPage,e=this.blogs.slice(t,t+this.itemsPerPage);this.blogRows=[];for(let l=0;l<e.length;l+=2)this.blogRows.push(e.slice(l,l+2))}get totalPages(){return Array.from({length:Math.ceil(this.blogs.length/this.itemsPerPage)},(t,e)=>e+1)}changePage(t){this.currentPage=t,this.updateBlogRows()}static{this.\u0275fac=function(e){return new(e||i)(P(B))}}static{this.\u0275cmp=C({type:i,selectors:[["app-blog-post"]],decls:25,vars:2,consts:[[1,"footer-section"],[1,"footer-overlay"],[1,"footer-content"],[1,"breadcrumb-nav"],["routerLink","/",1,"breadcrumb-link"],[1,"breadcrumb-separator"],[1,"breadcrumb-current"],[1,"fs-1"],[1,"video-background"],["autoplay","","muted","","loop","","playsinline","","preload","auto"],["src","assets/videos/2182596_Ancient Egypt_Luxor_1280x720.mp4","type","video/mp4"],[1,"container","py-3"],[1,"row","gx-lg-5"],[1,"col-lg-8"],["class","row mb-4",4,"ngFor","ngForOf"],[1,"pagination","justify-content-center","mt-3"],["class","page-item",4,"ngFor","ngForOf"],[1,"col-lg-4"],[1,"row","mb-4"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"blog-post","card","h-100",3,"routerLink"],[1,"position-relative"],["alt","Blog Image",1,"card-img-top",3,"src"],[1,"date-box","position-absolute"],[1,"day"],[1,"month"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"meta-info","mb-2"],[1,"author"],[1,"bi","bi-person"],[1,"category"],[1,"bi","bi-folder"],[1,"blog-stats"],[1,"bi","bi-chat"],[1,"bi","bi-eye"],[1,"card-title","fw-bold"],[1,"blog-excerpt"],[1,"page-item"],[1,"page-link",3,"click"]],template:function(e,l){e&1&&(n(0,"section",0),c(1,"div",1),n(2,"div",2)(3,"div",3)(4,"a",4),a(5,"Home"),o(),n(6,"span",5),a(7,"/"),o(),n(8,"span",6),a(9,"Blog Post"),o()(),n(10,"h1",7),a(11,"Blog Post"),o()(),n(12,"div",8)(13,"video",9),c(14,"source",10),a(15," Your browser does not support the video tag. "),o()()(),n(16,"div",11)(17,"div",12)(18,"div",13),b(19,F,2,1,"div",14),n(20,"nav")(21,"ul",15),b(22,T,3,3,"li",16),o()()(),n(23,"div",17),c(24,"app-blog-post-side-bar"),o()()()),e&2&&(r(19),s("ngForOf",l.blogRows),r(3),s("ngForOf",l.totalPages))},dependencies:[E,k,S],styles:['@charset "UTF-8";.video-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:0}.video-background[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#120a0a99;z-index:1}.video-background[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;min-width:100%;min-height:100%;width:auto;height:auto;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:cover}.footer-section[_ngcontent-%COMP%]{position:relative;height:28vh;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:25px;background-image:url("./media/footerjpg-SOMQBIKR.jpg");background-size:cover;background-position:center 30%;background-repeat:no-repeat;color:#fff;text-align:left;padding:20px;margin-bottom:50px}.footer-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#0009}.footer-content[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;max-width:1200px;padding:0 20px}.breadcrumb-nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:8px;margin-bottom:20px;font-size:14px}.breadcrumb-nav[_ngcontent-%COMP%]   .breadcrumb-link[_ngcontent-%COMP%]{color:#fffc;text-decoration:none;transition:all .3s ease}.breadcrumb-nav[_ngcontent-%COMP%]   .breadcrumb-link[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:underline}.breadcrumb-nav[_ngcontent-%COMP%]   .breadcrumb-separator[_ngcontent-%COMP%]{color:#fff9}.breadcrumb-nav[_ngcontent-%COMP%]   .breadcrumb-current[_ngcontent-%COMP%]{color:#fff;font-weight:500}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#212529;margin:0}.card[_ngcontent-%COMP%]{border:none;border-radius:12px}.card-img-top[_ngcontent-%COMP%]{height:400px;object-fit:cover;animation:_ngcontent-%COMP%_zoomIn 1s ease forwards;transform:scale(.95);opacity:0;transition:transform .5s ease}@keyframes _ngcontent-%COMP%_zoomIn{to{transform:scale(1);opacity:1}}.date-box[_ngcontent-%COMP%]{position:absolute;left:15px;top:15px;background-color:#007bff;color:#fff;padding:8px;border-radius:8px;text-align:center;width:50px;font-weight:700}.date-box[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-size:18px;display:block}.date-box[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase}.meta-info[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;display:flex;gap:10px}.meta-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.card-title[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:8px}.blog-excerpt[_ngcontent-%COMP%]{font-size:14px;color:#6c757d}.blog-stats[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;display:flex;gap:15px}.blog-stats[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.blog-post[_ngcontent-%COMP%]{transition:all .3s ease;margin-bottom:20px}.blog-post[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a}.blog-post[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:100%;border:none;border-radius:10px;overflow:hidden}.blog-post[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:250px;object-fit:cover;transition:transform .5s ease}.blog-post[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .card-img-top[_ngcontent-%COMP%]{transform:scale(1.05)}.blog-post[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.blog-post[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .blog-excerpt[_ngcontent-%COMP%]{flex-grow:1}']})}}return i})();export{$ as BlogPostComponent};
