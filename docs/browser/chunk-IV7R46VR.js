import{a as H}from"./chunk-7OD7UXMC.js";import{A as U,c as N,f as D,k as V,m as j,o as L,t as B,u as A,v as Y}from"./chunk-5ZW25HYA.js";import{g as I,l as W}from"./chunk-JKYV32XC.js";import"./chunk-SLPUACWX.js";import"./chunk-MMGRQEJU.js";import"./chunk-Q5MV2RZV.js";import{k as R,l as F,w as z}from"./chunk-EJ3EEOXZ.js";import{Cb as f,Kb as o,Lb as i,Mb as p,Qb as P,Vb as c,Wb as y,Zb as O,_a as T,eb as s,ec as a,fc as v,gc as h,hc as k,jc as m,kb as x,kc as u,lc as g,na as C,nc as S,oa as b,pc as E,qb as w,vb as M}from"./chunk-FHROAHAP.js";import"./chunk-WWX6BADO.js";var q=(d,_)=>({"col-md-3":d,"col-md-4":_}),G=()=>[1,2,3,4,5];function J(d,_){d&1&&(o(0,"span",47),p(1,"i",48),i())}function K(d,_){if(d&1){let e=P();o(0,"div",31)(1,"div",32),c("click",function(){let t=C(e).$implicit,l=y();return b(l.viewTourDetails(t.id))}),p(2,"img",33),o(3,"div",34)(4,"div",35)(5,"h5",36),a(6),i(),o(7,"button",37),c("click",function(t){return C(e),b(t.stopPropagation())}),p(8,"i",38),i()(),o(9,"p",39),p(10,"i",40),a(11),i(),o(12,"div",41)(13,"span",42),a(14),i(),o(15,"span",42),a(16),i()(),o(17,"div",43),M(18,J,2,0,"span",44),i(),o(19,"p",45),a(20),i(),o(21,"button",46),c("click",function(){let t=C(e).$implicit,l=y();return b(l.viewTourDetails(t.id))}),a(22,"Explore"),i()()()()}if(d&2){let e=_.$implicit,n=y();f("ngClass",E(10,q,n.toursPerRow===4,n.toursPerRow===3)),s(2),O("alt",e.title),f("src",e.mainImageUrl||"assets/default-tour-image.jpg",T),s(4),v(e.title),s(5),v(e.location),s(3),h("",e.peopleCount," People"),s(2),k("",e.tourDay," Days / ",e.tourNight," Nights"),s(2),f("ngForOf",S(13,G)),s(2),h("Starting From ",e.price," EGP")}}var ie=(()=>{class d{constructor(e,n){this.tourService=e,this.router=n,this.tours=[],this.filteredTours=[],this.sortOption="default",this.toursPerRow=4,this.date="",this.peopleCount=null,this.priceRange=5e3,this.tags=[],this.availableTags=[]}ngOnInit(){this.loadTours(),this.loadTopTags(),this.ensureVideoIsMuted()}loadTours(){this.tourService.getAllToursTurkey().subscribe({next:e=>{this.tours=e,this.applyFilters()},error:e=>{console.error("Error fetching Classic tours:",e)}})}loadTopTags(){this.tourService.getTopTags().subscribe({next:e=>{this.availableTags=this.getRandomTags(e,5)},error:e=>{console.error("Error fetching top tags:",e),this.availableTags=[{tagName:"luxury",toursCount:4},{tagName:"budget",toursCount:3},{tagName:"family",toursCount:2},{tagName:"solo",toursCount:1},{tagName:"adventure",toursCount:1}]}})}getRandomTags(e,n){return e.sort(()=>.5-Math.random()).slice(0,Math.min(n,e.length))}viewTourDetails(e){this.router.navigate(["/tours",e])}applyFilters(){this.filteredTours=this.tours.filter(e=>{let n=e.price<=this.priceRange,t=this.peopleCount===null||e.peopleCount>=this.peopleCount,l=this.date===""||!0,r=this.tags.length===0;return n&&t&&l&&r}),this.sortTours()}sortTours(){this.sortOption==="price-asc"?this.filteredTours.sort((e,n)=>e.price-n.price):this.sortOption==="price-desc"?this.filteredTours.sort((e,n)=>n.price-e.price):this.sortOption==="rating-desc"&&this.filteredTours.sort((e,n)=>n.rating-e.rating)}onSortChange(){this.sortTours()}onToursPerRowChange(){this.toursPerRow=Number(this.toursPerRow)}toggleTag(e){let n=this.tags.indexOf(e);n===-1?this.tags.push(e):this.tags.splice(n,1),this.applyFilters()}resetFilters(){this.date="",this.peopleCount=null,this.priceRange=5e3,this.tags=[],this.applyFilters()}ensureVideoIsMuted(){let e=document.querySelector(".video-background video");if(e){e.muted=!0,e.volume=0,e.addEventListener("loadedmetadata",()=>{e.muted=!0,e.volume=0}),e.addEventListener("volumechange",()=>{(!e.muted||e.volume>0)&&(e.muted=!0,e.volume=0)});try{let n=e;if(n.audioTracks&&n.audioTracks.length>0)for(let t=0;t<n.audioTracks.length;t++)n.audioTracks[t].enabled=!1}catch(n){console.log("\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0645\u0633\u0627\u0631\u0627\u062A \u0627\u0644\u0635\u0648\u062A:",n)}}}static{this.\u0275fac=function(n){return new(n||d)(x(H),x(I))}}static{this.\u0275cmp=w({type:d,selectors:[["app-turkey"]],decls:47,vars:8,consts:[[1,"container-fluid","p-0"],[1,"filter-background"],[1,"overlay"],[1,"video-background"],["autoplay","","muted","","loop","","playsinline","","preload","auto"],["src","assets/videos/0_Ancient Egyptian_Temple_1280x720.mp4","type","video/mp4"],[1,"container"],[1,"tour-title","text-center"],[1,"filter-section","bg-light","rounded"],[1,"row","g-2","align-items-center","justify-content-center"],[1,"col-md-3","col-sm-4"],["for","date",1,"form-label"],["type","date","id","date",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","people",1,"form-label"],["type","number","id","people","placeholder","Select People",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","priceRange",1,"form-label"],["type","range","id","priceRange","min","0","max","5000",1,"form-range",3,"ngModelChange","ngModel"],[1,"col-md-2","col-sm-12","text-center","mt-3"],[1,"btn","btn-primary","btn-sm","w-100",3,"click"],[1,"container","py-5"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"me-2","fw-bold"],["id","sortBy",1,"form-select","d-inline-block","w-auto","me-3",3,"ngModelChange","change","ngModel"],["value","default"],["value","price-asc"],["value","price-desc"],["id","toursPerRow",1,"form-select","d-inline-block","w-auto",3,"ngModelChange","change","ngModel"],["value","3"],["value","4","selected",""],[1,"row"],["class","mb-4",3,"ngClass",4,"ngFor","ngForOf"],[1,"mb-4",3,"ngClass"],[1,"card","h-100",2,"cursor","pointer",3,"click"],[1,"card-img-top",2,"height","200px","object-fit","cover",3,"src","alt"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"card-title","mb-0"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-heart"],[1,"card-text","text-muted"],[1,"bi","bi-geo-alt","me-1"],[1,"d-flex","gap-2","mb-2"],[1,"badge","bg-light","text-dark"],[1,"d-flex","align-items-center","mb-2"],["class","text-warning me-1",4,"ngFor","ngForOf"],[1,"card-text","text-primary","fw-bold"],[1,"btn","btn-outline-primary","w-100",3,"click"],[1,"text-warning","me-1"],[1,"bi","bi-star-fill"]],template:function(n,t){n&1&&(o(0,"div",0)(1,"div",1),p(2,"div",2),o(3,"div",3)(4,"video",4),p(5,"source",5),a(6," Your browser does not support the video tag. "),i()(),o(7,"div",6)(8,"div",7)(9,"h1"),a(10,"Turkey Trips"),i()(),o(11,"div",8)(12,"div",9)(13,"div",10)(14,"label",11),a(15,"Date"),i(),o(16,"input",12),g("ngModelChange",function(r){return u(t.date,r)||(t.date=r),r}),c("ngModelChange",function(){return t.applyFilters()}),i()(),o(17,"div",10)(18,"label",13),a(19,"People"),i(),o(20,"input",14),g("ngModelChange",function(r){return u(t.peopleCount,r)||(t.peopleCount=r),r}),c("ngModelChange",function(){return t.applyFilters()}),i()(),o(21,"div",10)(22,"label",15),a(23),i(),o(24,"input",16),g("ngModelChange",function(r){return u(t.priceRange,r)||(t.priceRange=r),r}),c("ngModelChange",function(){return t.applyFilters()}),i()(),o(25,"div",17)(26,"button",18),c("click",function(){return t.resetFilters()}),a(27,"Find Tours"),i()()()()()(),o(28,"div",19)(29,"div",20)(30,"div")(31,"span",21),a(32),i(),o(33,"select",22),g("ngModelChange",function(r){return u(t.sortOption,r)||(t.sortOption=r),r}),c("change",function(){return t.onSortChange()}),o(34,"option",23),a(35,"Sort by: Default"),i(),o(36,"option",24),a(37,"Price: Low to High"),i(),o(38,"option",25),a(39,"Price: High to Low"),i()(),o(40,"select",26),g("ngModelChange",function(r){return u(t.toursPerRow,r)||(t.toursPerRow=r),r}),c("change",function(){return t.onToursPerRowChange()}),o(41,"option",27),a(42,"3 Tours"),i(),o(43,"option",28),a(44,"4 Tours"),i()()()(),o(45,"div",29),M(46,K,23,14,"div",30),i()()()),n&2&&(s(16),m("ngModel",t.date),s(4),m("ngModel",t.peopleCount),s(3),h("Price: 0 - ",t.priceRange," USD"),s(),m("ngModel",t.priceRange),s(8),h("",t.filteredTours.length," Tours"),s(),m("ngModel",t.sortOption),s(7),m("ngModel",t.toursPerRow),s(6),f("ngForOf",t.filteredTours))},dependencies:[z,R,F,U,A,Y,N,j,L,B,D,V,W],styles:[".container-fluid[_ngcontent-%COMP%]{font-family:Barlow,sans-serif}.filter-background[_ngcontent-%COMP%]{width:100%;height:40vh;position:relative;display:flex;margin-bottom:20px;align-items:center;overflow:hidden}.video-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}.video-background[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0009;z-index:1}.filter-background[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{z-index:2}.tour-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:15px;color:#fff;font-size:2.5rem;font-weight:700;text-transform:uppercase;letter-spacing:2px;text-shadow:2px 2px 4px rgba(0,0,0,.5);animation:_ngcontent-%COMP%_fadeInDown 1.5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}.filter-section[_ngcontent-%COMP%]{box-shadow:0 2px 10px #0003;background-color:#fffffff2;padding:25px;border-radius:8px;max-width:900px;margin:0 auto}.form-label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;color:#333;margin-bottom:.2rem}.form-control[_ngcontent-%COMP%], .form-range[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #ddd;padding:4px;font-size:.85rem}.form-range[_ngcontent-%COMP%]{height:5px}.form-select[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:4px 50px 4px 8px;font-size:.85rem;cursor:pointer;transition:border-color .3s ease}.form-select[_ngcontent-%COMP%]:hover{border-color:#666}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#0d62e2;box-shadow:0 0 5px #0d62e24d}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 2px 10px #0000001a;transition:transform .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card-img-top[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;height:200px;object-fit:cover}.card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#333}.card-text[_ngcontent-%COMP%]{font-size:.9rem}@media (min-width: 768px){.col-md-3[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem}.col-md-3[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:.85rem}.col-md-3[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem}}.btn-outline-primary[_ngcontent-%COMP%]{border-color:#0d62e2;color:#0d62e2;transition:all .3s ease}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#0d62e2;color:#fff}.btn-outline-danger[_ngcontent-%COMP%]{border-color:#dc3545;color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}.btn-primary[_ngcontent-%COMP%]{padding:5px 10px;font-size:.85rem;border-radius:4px}@media (max-width: 768px){.card[_ngcontent-%COMP%]{margin:0 15px}.filter-background[_ngcontent-%COMP%]{height:400px}.filter-section[_ngcontent-%COMP%]{padding:8px 12px}.form-label[_ngcontent-%COMP%]{font-size:.75rem}.form-control[_ngcontent-%COMP%], .form-range[_ngcontent-%COMP%]{font-size:.8rem}.btn-primary[_ngcontent-%COMP%]{font-size:.8rem;padding:4px 8px}}"]})}}return d})();export{ie as TurkeyComponent};
